{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}" />
    <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}" />
    <link rel="stylesheet" href="css/mobiscroll.javascript.min.css" />
  </head>
  <body>
    <h1>Posts - <a href="{% url 'blog:create-post' %}">create one</a></h1>
    <form action="" method="get">
      <select class="form-select" name="category" multiple >
            {% for i in category %}
            <option value="{{i.id}}">{{i}}</option>
            {% endfor %}
        </select>
      <input type="submit" />
    </form>
    {% for post in post %}
    <li>
      <a href="{% url 'blog:detail-post' pk=post.id %}"
        >{{post.title}} - [ {% for i in post.category.all %} {{ i }} {% endfor %} ]
      </a>

      {% if user == post.author %}
      <br />
      <a href="{% url 'blog:update-post' pk=post.id %}"> edit </a>
      <a href="{% url 'blog:delete-post' pk=post.id %}"> delete </a>
      {% endif %}
      <hr />
    </li>
    {% endfor %}

    <script src="js/mobiscroll.javascript.min.js"></script>
    <script>
      mobiscroll.setOptions({
        theme: "ios",
        themeVariant: "light",
      });

      mobiscroll.select("#demo-multiple-select", {
        inputElement: document.getElementById("demo-multiple-select-input"),
      });
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
